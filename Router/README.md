# Detailed Configuration for Router Configuration

| S.no | Contents |
| --- | --- |
| 1. | Setting up pfSense |
| 2. | Instaling Snort IDS/IPS |

## Seting up pfSense
1.  **Create a New Virtual Machine:**
    -   Open VirtualBox.
    -   Click "New" to create a new VM.
    -   Name the VM (e.g., "pfSense").
    -   Select Type: "BSD" and Version: "FreeBSD (64-bit)".
    -   Allocate Memory: At least 512MB Ram.
    -   Create a virtual hard disk. VDI format, dynamically allocated, 16 GB.
2.  **Configure Network Adapters:**
    -   Go to VM settings, then "Network".
    -   Adapter 1:
        -   Enable Adapter.
        -   Attached to: "Bridged Adapter".
        -   Name: Select your host's active network interface.
    -   Adapter 2:
        -   Enable Adapter.
        -   Attached to: "Internal Network".
        -   Name: Give a name to internal network (e.g., "LAN").
3.  **Mount Netgate installer ISO:**
    -   Go to VM settings, then "Storage".
    -   Under "Controller: IDE", click "Empty".
    -   Click the CD icon next to "Optical Drive" and choose "Choose a disk file".
    -   Select the pfSense ISO image.
4.  **Start the VM and Install pfSense:**
    -   Start the VM.
    -   Follow the on-screen instructions to install pfSense.
    -   Accept the default settings for most prompts.
    -   When prompted, assign network interfaces:
        -   WAN (em0): Bridged Adapter
        -   LAN (em1): Internal Network
5.  **Configure pfSense Web Interface:**
    -   After installation, the VM will reboot.
    -   Access the pfSense web interface from another VM connected to the Internal Network.
    -   Open a web browser and go to the LAN IP address (usually `192.168.1.1`).
    -   Login with the default credentials (username: `admin`, password: `pfsense`).
    -   Follow the setup wizard to configure pfSense.

## Installing Snort IDS/IPS
1.  **Install Snort Package:**
    -   In the pfSense web interface, go to "System" -> "Package Manager".
    -   Search for "Snort" and click "Install".
    -   Confirm the installation.
2.  **Configure Snort:**
    -   Go to "Services" -> "Snort".
    -   Click on the "Global Settings" tab.
    -   Configure the general settings, such as:
        -   Enable/Disable Snort.
        -   Select the WAN interface to monitor.
        -   Choose the operating mode (IDS or IPS).
3.  **Update Snort Rules:**
    -   Go to the "Updates" tab.
    -   Click "Update Rules" to download the latest Snort rules.
    -   You may need to register for a Snort account (free or paid) to get access to certain rule sets.
4.  **Configure Snort Rulesets:**
    -   Go to the "Categories" tab.
    -   Select the Snort rulesets you want to enable (e.g., "Emerging Threats", "Snort GPLv2 Community Rules").
    -   Save the settings.
5.  **Configure Snort Interfaces:**
    -   Go to the "Interfaces" tab.
    -   Configure the Snort settings for each interface you want to protect.
    -   Enable Snort on the WAN interface.
    -   Choose the rulesets to use for that interface.
    -   Configure any preprocessors or other advanced settings.
6.  **Start Snort:**
    -   Go to the "Snort" service status page.
    -   Start the Snort service on the WAN interface.
7.  **Monitor Snort Alerts:**
    -   Go to the "Alerts" tab to view any alerts generated by Snort.
    -   Analyze the alerts to identify potential security threats.